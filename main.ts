namespace SpriteKind {
    export const flower = SpriteKind.create()
    export const coin = SpriteKind.create()
    export const fireball = SpriteKind.create()
}
let list: Sprite[] = []
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile1`, function (sprite, location) {
    game.over(false, effects.splatter)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (spiral.vy == 0) {
        spiral.vy = -175
    } else if (spiral.isHittingTile(CollisionDirection.Left)) {
        spiral.vy = -175
    } else if (spiral.isHittingTile(CollisionDirection.Right)) {
        spiral.vy = -175
    } else {
    	
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (spiral.isHittingTile(CollisionDirection.Left)) {
        spiral.vy = 0
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.flower, function (sprite, otherSprite) {
    bee = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    animation.runImageAnimation(
    bee,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f f . . . . . . 
        . . . . . . f 9 9 9 f f . . . . 
        . . . . . . f 9 9 9 9 f f . . . 
        . f . . . . f 9 9 9 9 9 f . . . 
        . . f . f f f f 9 9 9 f f f f f 
        . . . f f 5 5 f f 9 f f 9 9 9 f 
        . . f 5 f 5 5 f 5 f f f 9 9 9 f 
        . f 5 5 f 5 f 5 5 f 5 f f 9 9 f 
        . . f f f f 5 5 5 f 5 5 5 f f f 
        . . . . f f f f f 5 5 5 f f . . 
        . . . . f . . . . f 5 5 f f . . 
        . . . . f . . . f f f f . . f . 
        . . . . . . . . f . . . . . . f 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . f . . . . . . . . . . . . . . 
        . . f . f f f f . . . . . . . . 
        . . . f f 5 5 f f . . . . . . . 
        . . f 5 f 5 5 f 5 f f f . . . . 
        . f 5 5 f 5 f 5 5 f 5 f f . . . 
        . . f f f f 5 5 5 f 5 5 5 f . . 
        . . . . f f f f f 5 5 5 f f . . 
        . . . . f . . . . f 5 5 f f . . 
        . . . . f . . . f f f f . . f . 
        . . . . . . . . f . . . . . . f 
        `],
    100,
    true
    )
    if (otherSprite.y - 80 < 0) {
        if (spiral.vx < 0) {
            bee.setPosition(otherSprite.x + 80, otherSprite.y - 20)
        } else {
            bee.setPosition(otherSprite.x - 80, otherSprite.y - 20)
        }
    } else {
        bee.setPosition(otherSprite.x + 10, otherSprite.y - 80)
    }
    bee.follow(spiral)
    otherSprite.destroy()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    currentLevel += 1
    startLevel()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.fireball, function (sprite, otherSprite) {
    info.changeLifeBy(-2)
    otherSprite.destroy()
})
function startLevel () {
    if (currentLevel == 0) {
        tiles.setTilemap(tilemap`level1`)
    } else if (currentLevel == 1) {
        tiles.setTilemap(tilemap`level2`)
    } else if (currentLevel == 2) {
        tiles.setTilemap(tilemap`level3`)
    } else {
        game.over(true)
    }
    tiles.placeOnRandomTile(spiral, assets.tile`myTile5`)
    for (let value of tiles.getTilesByType(assets.tile`myTile5`)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    info.setLife(5)
    for (let value of sprites.allOfKind(SpriteKind.Enemy)) {
        value.destroy()
    }
    for (let value of list) {
        value.destroy()
    }
    for (let value of sprites.allOfKind(SpriteKind.flower)) {
        value.destroy()
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
        coin = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . f 5 5 4 5 4 5 4 5 4 5 5 f . . 
            . f 5 5 5 4 5 5 5 4 5 5 5 f . . 
            . f 5 5 4 5 4 5 4 5 4 5 5 f . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 4 5 f . . 
            . f 5 5 4 5 5 5 5 5 4 5 5 f . . 
            . f 5 5 5 4 5 5 5 4 5 5 5 f . . 
            . . f 5 5 5 4 4 4 5 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.coin)
        tiles.placeOnTile(coin, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
        animation.runImageAnimation(
        coin,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . f 5 5 4 5 4 5 4 5 4 5 5 f . . 
            . f 5 5 5 4 5 5 5 4 5 5 5 f . . 
            . f 5 5 4 5 4 5 4 5 4 5 5 f . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 4 5 f . . 
            . f 5 5 4 5 5 5 5 5 4 5 5 f . . 
            . f 5 5 5 4 5 5 5 4 5 5 5 f . . 
            . . f 5 5 5 4 4 4 5 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 4 4 5 4 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 5 4 4 5 4 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 4 5 f . . . 
            . . f 5 5 4 5 5 5 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 4 5 5 f . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 4 4 5 4 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 5 4 4 5 4 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 4 5 f . . . 
            . . f 5 5 4 5 5 5 4 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 4 5 5 f . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 4 5 f . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 4 5 4 5 f . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 4 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 4 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 4 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 4 5 4 5 f . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 4 5 f . . . . 
            . . . f 5 5 4 5 4 5 5 f . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        300,
        true
        )
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile4`)) {
        flower = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . c c c . . . . . . . 
            . . . . . c 8 c 8 c . . . . . . 
            . . . . c c c 2 c c c . . . . . 
            . . . . c 8 2 c 2 8 c . . . . . 
            . . . . c c c 8 c c c . . . . . 
            . . . . . c c c c c . . . . . . 
            . . . . . . 6 7 . . . . . . . . 
            . . . . 7 7 . 7 . 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 7 . . . . . 
            . . . . . 6 6 7 7 6 6 . . . . . 
            . . . . . . . 7 6 . . . . . . . 
            `, SpriteKind.flower)
        tiles.placeOnTile(flower, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile9`)) {
        fireball = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . 5 . . 5 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . 5 . . 5 . . 5 5 . . 
            . . . 5 4 5 4 5 5 . . 5 5 4 . . 
            . . 5 . 5 . 4 4 4 5 4 2 . . . . 
            . . . 5 5 4 2 2 2 4 4 4 5 . . . 
            . . . . 4 4 2 a 2 2 . 4 5 . . . 
            . . 5 . 5 4 2 2 a a 2 4 5 5 . . 
            . . . 5 2 4 . 2 a 2 a 2 4 5 . . 
            . . . . . 5 4 4 2 2 2 2 4 . 5 . 
            . . . . 5 . 5 5 4 4 . 4 5 5 . . 
            . . . . . . 4 . 5 4 5 5 . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.fireball)
        tiles.placeOnTile(fireball, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
        animation.runMovementAnimation(
        fireball,
        "c 0 -100 0 100 0 0",
        1000,
        true
        )
        fireball.startEffect(effects.fire)
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (spiral.y < otherSprite.y) {
        info.changeScoreBy(3)
        otherSprite.destroy()
    } else {
        info.changeLifeBy(-1)
        otherSprite.destroy()
    }
})
let fireball: Sprite = null
let flower: Sprite = null
let coin: Sprite = null
let bee: Sprite = null
let currentLevel = 0
let spiral: Sprite = null
scene.setBackgroundImage(img`
    99999999999999999999999999999999999999999999999999f55555555555555555555555f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999f5555555555555555555555555f999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999f5555555555555555555555555f999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999f555555555555555555555555555f99999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999f555555555555555555555555555f99999999999999999999999999999999999999999999999999999999911111111999999999999999999
    99999999999999999999999999999999999999999999999ff55555555555555555555555555fff9999999999999999999999999999999999999999999999999999911111111111119999999999999999
    99999999999999999999999999111111111111999999999ffff55555555555555555555555ff5f9999999999999111111111119999999999999999999999999999111111111111119999999999999999
    99999999999999999999999991111111111111119999999f55fff5555555555555555555ff555f9999999999991111111111111199999999999999999999991111111111111111119999999999999999
    99999999999999999999999911111111111111111999999f5555ff5fffffff5555fffffff5555f9999999999911111111111111199999999999999999999911111111111111111119111111999999999
    99999999999999991111199911111111111111111999999f555555ffffffffffffffffff55555f9999999999111111111111111119999999999999999999911111111111111111111111111199999999
    99999999999991111111111911111111111111111199999f55555555fffff55555ffffff5555519991111199111111111111111119999999999999999999111111111111111111111111111199999999
    99999999999911111111111111111111111111111119999f55555555ffff555555fffff55555111111111111111111111111111111111199999999999991111111111111111111111111111199999999
    99999999999111111111111111111111111111111119999f5555555555555555555555555555111111111111111111111111111111111119999999999991111111111111111111111111111119999999
    99999999999111111111111111111111111111111119999f5555555555555555555555555555111111111111111111111111111111111111999999999911111111111111111111111111111119999999
    999999999991111111111111111111111111111111111111155fff5555555555555555555555111111111111111111111111111111111111999999999911111111111111111111111111111119999999
    999999999991111111111111111111111111111111111111111f555555555555555555555555111111111111111111111111111111111111999999999999999111111111111111111111111119999999
    999999999991111111111111111111111111111111111111111f5f5555555555555555555555111111111111111111111111111111111111999999999999999999111111111111111999999999999999
    99999999999111111111111111111111111111111111111111155ff555555555555555555555f91111111111111111111111111111111111999999999999999999999999999999999999999999999999
    999999999991111111111111111111111111111111111111111555ff5555555555555555555f991111111111111111111111111111111111999999999999999999999999999999999999999999999999
    9999999999991111111111111111111111111111111111111115555fff5555555555555ff55f911111111111111111111111111111111999999999999999999999999999999999999999999999999999
    999999999999111111111111111111111111111111111111111555555fffff5555555ff555f9999911111111111111111111199999999999999999999999999999999999999999999999999999999999
    999999999999911111111111111111111111111111111111111f555555555fffffffff555f99999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999991111111111111111111111111111111111111119f5555555555555555555f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999911111111191111111111111111111111111119999ff555555555555555ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999991111119999999999911111111199999999999999999ff55555555555ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999fffffffffff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999eee99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999e66ee9999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999e6666eee99999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999e666666e1ee99999999999999999999999eee9999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ee66666666e66e999999999999999999999e66e9999999999
    99999999999999999999999999999999999999999999999e9999999999999999999999999999999999999999999999999999999999999ee66666666666e66eeee9999999999999999e6666e999999999
    9999999999999999999999999999999999999999999999eee99999999999999999999999999999999999999999999999999999999999e66666666666666e66666eee999999999999e666666ee9999999
    999999999999999999999999999999999999999999999ee66ee99999999999999999999999999999999999999999999999999999999e6666666666666666e6666666e9999999999ee6666666eee99999
    99999999999999999999999999999999999999999999e66666eee99999999999999999999999999999999999999999999999999999e666666666666666666e6666666ee99999999e666666666e1ee999
    99999999999999999999999999999999999999999999e66666e66ee99999999999999999999999999999999999999999999999999e66666666666666666666e66666666e999999e66666666666ee1ee9
    9999999999999999999999999999999999999999999e6666666e666e999999999999999999999999999999999999999999999999e666666666666666666666e666666666e9999e66666666666666e66e
    999999999999999999999999999999999999999999e666666666e666e999999999999999999999999999999999999999999999ee66666666666666666666666e666666666ee9e666666666666666e66e
    99999999999999999999999999999999999999999e66666666666e666ee999999999999999999999999999999999999999999e6666666666666666666666666e66666666666ee6666666666666666e66
    9999999999999999999999999999999999999999ee666666666666e6666e9999999999999999999999999999999999999999e66666666666666666666666666e6666666666e6e66666666666666666e6
    999999999999999999999999999999999999999e666666666666666e6666e99999999999999999999999999999999999999e6666666666666666666666666666e66666666e666666666666666666666e
    99999999999999999999999999999999999999e66666666666666666e6666ee99999999999999999999999999999999999e666666666666666666666666666666ee66666e66666666666666666666666
    9999999999999999999999999999999999999e6666666666666666666e66666e99999999999999999999999999999999ee666666666666666666666666666666666e666e666666666666666666666666
    9999999999999999999999999999999999999e66666666666666666666ee6666ee99999999999999999999999999999e666666666666666666666666666666666666e6e6666666666666666666666666
    99999999999999999999999999999999999ee66666666666666666666666e66666ee99999999999999999999999999e6666666666666666666666666666666666666e666666666666666666666666666
    9999999999999999999999999999999999e66666666666666666666666666e666666e999999999999999999999999e666666666666666666666666666666666666666e66666666666666666666666666
    9999999999999999999999999999999999e666666666666666666666666666ee66666eeeee9999999999999999999e6666666666666666666666666666666666666666e6666666666666666666666666
    999999999999999999999999999999999e66666666666666666666666666666e6666666666eeeee9999999999999e666666666666666666666666666666666666666666e666666666666666666666666
    9999999eee999999999999999999999ee6666666666666666666666666666666e66666666666666eeeeeee99999e66666666666666666666666666666666666666666666e66666666666666666666666
    999999e66ee9999999999999999999e6666666666666666666666666666666666ee6666666666666666666eeeeee666666666666666666666666666666666666666666666e6666666666666666666666
    99999e66e66ee9999999999999999e6666666666666666666666666666666666666ee66666666666666666666e666666666666666666666666666666666666666666666666e666666666666666666666
    9999e6666e666ee9999999999999e6666666666666666666666666666666666666666ee666666666666666666e6666666666666666666666666666666666666666666666666e66666666666666666666
    9999e6666ee6666ee9999999999e6666666666666666666666666666666666666666666eee66666666666666e666666666666666666666666666666666666666666666666666e6666666666666666666
    999e6666666e66666eeeee999ee66666666666666666666666666666666666666666666666e666666666666e66666666666666666666666666666666666666666666666666666e666666666666666666
    99e66666666ee66666666e99e66666666666666666666666666666666666666666666666666e6666666666e6666666666666666666666666666666666666666666666666666666e66666666666666666
    9e6666666666ee66666666ee6666666666666666666666666666666666666666666666666666eeeee6666e66666666666666666666666666666666666666666666666666666666e66666666666666666
    e666666666666e66666666ee66666666666666666666666666666666666666666666666666666666e666e6666666666666666666666666666666666666666666666666666666666e6666666666666666
    66666666666666e6666666e666666666666666666666666666666666666666666666666666666666666e666666666666666666666666666666666666666666666666666666666666e6e6666666666666
    666666666666666ee666ee66666666666666666666666666666666666666666666666666666666666ee66666666666666666666666666666666666666666666666666666666666666ee6666666666666
    6666666666666666e6e66666666666666666666666666666666666666666666666666666666666eee66666666666666666666666666666666666666666666666666666666666666666e6666666666666
    66666666666666666ee666666666666666666666666666666666666666666666666666666666ee6666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666666ee6666666666666666666666666666666666666666666666666666666eeee666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    66666666666666e6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666666666ee66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666ee6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    66666666ee666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    666666ee66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    66666e6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    `)
spiral = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . f f f f f f f f f f f . . . 
    . f . . . . . . . . . . . f . . 
    . f . . f f f f f f f . . f . . 
    . f . f . . . . . . . f . f . . 
    . f . f . . f f f . . f . f . . 
    . f . f . f . . . f . f . f . . 
    . f . f . f . f . f . f . f . . 
    . f . f . f . . f . . f . f . . 
    . f . f . f . . . . . f . f . . 
    . f . f . . f f f f f . . f . . 
    . f . f . . . . . . . . . f . . 
    . f . . f f f f f f f f f . . . 
    . f . . . . . . . . . . . . . . 
    f . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(spiral, 100, 0)
currentLevel = 0
spiral.ay = 350
scene.cameraFollowSprite(spiral)
startLevel()
game.onUpdate(function () {
    spiral.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . f f f f f f f f f f f . . . 
        . f . . . . . . . . . . . f . . 
        . f . . f f f f f f f . . f . . 
        . f . f . . . . . . . f . f . . 
        . f . f . . f f f . . f . f . . 
        . f . f . f . . . f . f . f . . 
        . f . f . f . f . f . f . f . . 
        . f . f . f . . f . . f . f . . 
        . f . f . f . . . . . f . f . . 
        . f . f . . f f f f f . . f . . 
        . f . f . . . . . . . . . f . . 
        . f . . f f f f f f f f f . . . 
        . f . . . . . . . . . . . . . . 
        f . . . . . . . . . . . . . . . 
        `)
    if (spiral.vy < 0) {
        spiral.setImage(img`
            . . . f f f f f f f f f . . . . 
            . . f . . . . . . . . . f . . . 
            . . f . . f f f f f . . f . . . 
            . . f . f . . . . . f . f . . . 
            . . f . f . . f . . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . f f f . f . f . . . 
            . . f . f . f f . . f . f . . . 
            . . f . f . f . . . f . f . . . 
            . . f . f . . f f f . . f . . . 
            . . f . f . . . . . . . f . . . 
            . . f . . f f f f f f f . . . . 
            . . f . . . . . . . . . . . . . 
            . f . . . . . . . . . . . . . . 
            `)
    } else if (spiral.vy > 0) {
        spiral.setImage(img`
            . f . . . . . . . . . . . . . . 
            . . f . . . . . . . . . . . . . 
            . . f . . f f f f f f f . . . . 
            . . f . f . . . . . . . f . . . 
            . . f . f . . f f f . . f . . . 
            . . f . f . f . . . f . f . . . 
            . . f . f . f f . . f . f . . . 
            . . f . f . f f f . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . f . f . f . f . . . 
            . . f . f . . f . . f . f . . . 
            . . f . f . . . . . f . f . . . 
            . . f . . f f f f f . . f . . . 
            . . f . . . . . . . . . f . . . 
            . . . f f f f f f f f f . . . . 
            `)
    } else if (spiral.x % 2 == 0) {
        spiral.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . f f f f f f f f f . . . . 
            . . f . . . . . . . . . f . . . 
            . . f . f f f f f f f . f . . . 
            . . f f . . . . . . . f f . . . 
            . . f f . . f f f . . f f . . . 
            . . f f . f . . . f . f f . . . 
            . . f f . f . f . f . f f . . . 
            . . f f . f . . f . . f f . . . 
            . . f f . f . . . . . f f . . . 
            . . f f . . f f f f f . f . . . 
            . . f f . . . . . . . . f . . . 
            . . f . f f f f f f f f . . . . 
            . . f . . . . . . . . . . . . . 
            f f . . . . . . . . . . . . . . 
            `)
    } else {
    	
    }
    if (spiral.vx < 0) {
        spiral.image.flipX()
    }
})
